#!/usr/bin/env ruby

require './lib/qc.rb'

def help_header cmd, options
  <<HEADER
qc.rb (Version #{QC::VERSION}) is a QingCloud API CLI

qc #{cmd}

Options:
#{options}
Website:
  https://github.com/qc.rb
HEADER
end

case ARGV[0]
when 'ssh'
  case ARGV[1]
  when 'list'
    QC::KeyPair.describe {|s| puts s}
  else
    puts help_header('ssh [option]', <<HELP)
  list     List all public keys  
HELP
  end
when 'ins'
  case ARGV[1]
  when 'list'
    QC::Instance.describe {|i| puts i}
  else
    puts help_header('ins [option]', <<HELP)
  list     List all machines 
HELP
  end
when 'ip'
  case ARGV[1]
  when 'list'
    QC::Eip.describe {|s| puts s}
  else
    puts help_header('ssh [option]', <<HELP)
  list     List all IPs  
HELP
  end
else
  puts help_header('[option]', <<HELP)
  ssh      SSH Key Management
  img      Image Managements (available Operator Systems)
  sec      Security Group Management (Firewall rules)
  ip       IP Management (Internet Bandwidth)
  route    Router Managemen
  net      Software Defined Network Management
  vol      Volume Management (add, change and remove HDDs)
  ins      Instance Management (manipulate machines)
HELP
end

